{{ define "content" }}
<div class="card">
    <div class="card-header">
        <h1>My Profile</h1>
        <a href="/edit-profile" class="btn">Edit</a>
    </div>

    <!-- Profile Photo -->
    <div style="margin-bottom: 1.5rem;">
        {{ if .Profile.PhotoPath }}
        <div style="display: flex; align-items: center; gap: 1rem;">
            <img src="/get-profile-photo?filename={{ .Profile.PhotoPath }}" alt="Profile photo" style="width: 120px; height: 120px; object-fit: cover; border-radius: 50%; border: 2px solid var(--stone-beige);">
            <div>
                <strong>{{ .Profile.FullName }}</strong>
                <div style="color: var(--stone-beige); font-size: 0.875rem;">@{{ .Profile.Slug }}</div>
            </div>
        </div>
        {{ else }}
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div style="width: 120px; height: 120px; border-radius: 50%; background: var(--white-warm-dark); display: flex; align-items: center; justify-content: center; color: var(--stone-beige); font-size: 2.5rem;">
                {{ slice .Profile.Name 0 1 }}
            </div>
            <div>
                <strong>{{ .Profile.FullName }}</strong>
                <div style="color: var(--stone-beige); font-size: 0.875rem;">@{{ .Profile.Slug }}</div>
            </div>
        </div>
        {{ end }}
    </div>

    <dl class="detail-list">
        <dt>Bio</dt>
        <dd>{{ if .Profile.Bio }}{{ .Profile.Bio }}{{ else }}<em>Not set</em>{{ end }}</dd>

        <dt>Social Links</dt>
        <dd>
            {{ if eq (len .SocialLinksMap) 0 }}
                <em>Not set</em>
            {{ else }}
                <ul class="social-links-list">
                {{ range $platform, $url := .SocialLinksMap }}
                    <li><strong>{{ $platform }}</strong>: <a href="{{ $url }}" target="_blank">{{ $url }}</a></li>
                {{ end }}
                </ul>
            {{ end }}
        </dd>

        <dt>Updated</dt>
        <dd>{{ .Profile.UpdatedAt.Format "Jan 02, 2006 15:04" }}</dd>
    </dl>
</div>
{{ end }}
