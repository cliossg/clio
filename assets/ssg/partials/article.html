{{ define "article.html" }}
<article class="article">
    <div class="hero-wrapper">
        {{ if .Content.HeaderImageURL }}
        <figure class="hero-figure">
            <img class="hero-image" src="{{ .Content.HeaderImageURL }}" alt="{{ if .Content.HeaderImageAlt }}{{ .Content.HeaderImageAlt }}{{ else }}{{ .Content.Heading }}{{ end }}">
            {{ if or .Content.HeaderImageCaption .Content.HeaderImageAttribution }}
            <figcaption class="hero-credit">
                {{ if .Content.HeaderImageCaption }}<span class="hero-credit-title">{{ .Content.HeaderImageCaption }}</span>{{ end }}
                {{ if .Content.HeaderImageAttribution }}
                <span class="hero-credit-attr">{{ if .Content.HeaderImageAttributionURL }}<a href="{{ .Content.HeaderImageAttributionURL }}" target="_blank" rel="noopener">{{ .Content.HeaderImageAttribution }}</a>{{ else }}{{ .Content.HeaderImageAttribution }}{{ end }}</span>
                {{ end }}
            </figcaption>
            {{ end }}
        </figure>
        {{ else }}
        <div class="hero-image-gradient"></div>
        {{ end }}
        <div class="hero-title-box{{ if .Content.HeroTitleDark }} hero-title-dark{{ end }}">
            <h1 class="hero-title">{{ .Content.Heading }}</h1>
            {{ if .Content.Summary }}
            <p class="hero-subtitle">{{ .Content.Summary }}</p>
            {{ end }}
        </div>
    </div>

    <div class="site-container">
        <header class="article-header">
            <div class="article-meta">
                <div class="article-byline">
                    {{ if .Content.PublishedAt }}
                    <span>{{ .Content.PublishedAt.Format "January 2, 2006" }}</span>
                    {{ end }}
                    {{ if and .Content.DisplayHandle .Content.PublishedAt }}
                    <span class="article-separator">Â·</span>
                    {{ end }}
                    {{ if .Content.ContributorHandle }}
                    <a href="{{ .AssetPath }}authors/{{ .Content.ContributorHandle }}/" class="article-author">@{{ .Content.ContributorHandle }}</a>
                    {{ else if .Content.AuthorUsername }}
                    <a href="{{ .AssetPath }}authors/{{ .Content.AuthorUsername }}/" class="article-author">@{{ .Content.AuthorUsername }}</a>
                    {{ end }}
                </div>
                <div class="article-tags">
                    {{ range .Content.Tags }}
                    <span class="tag">{{ .Name }}</span>
                    {{ end }}
                    {{ if .Section }}
                    <a href="{{ .AssetPath }}{{ .Section.Path }}/" class="tag tag-section">{{ .Section.Name }}</a>
                    {{ end }}
                </div>
            </div>
        </header>

        <div class="article-content prose">
            {{ .Content.HTMLBody }}
        </div>

        {{ template "blocks.html" . }}

        <nav class="article-nav">
            <a href="{{ .AssetPath }}" class="article-nav-link">&larr; Back to home</a>
        </nav>
    </div>
</article>
{{ end }}
